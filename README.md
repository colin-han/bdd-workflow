# BDD Workflow å·¥ä½œæµç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªå¼ºå¤§çš„BDDï¼ˆè¡Œä¸ºé©±åŠ¨å¼€å‘ï¼‰å·¥ä½œæµç®¡ç†ç³»ç»Ÿï¼Œé€šè¿‡æ˜ç¡®çš„è§’è‰²åˆ‡æ¢å®ç°éœ€æ±‚åˆ†æã€stepå®šä¹‰å’ŒåŠŸèƒ½å®ç°çš„å…¨æµç¨‹ç®¡ç†ã€‚

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **è§’è‰²é©±åŠ¨**ï¼šé€šè¿‡æ¸…æ™°çš„è§’è‰²åˆ‡æ¢ï¼ˆéœ€æ±‚åˆ†æå¸ˆã€æµ‹è¯•å·¥ç¨‹å¸ˆã€å¼€å‘å·¥ç¨‹å¸ˆï¼‰ç¡®ä¿å„é˜¶æ®µä¸“æ³¨åº¦
- **çŠ¶æ€è¿½è¸ª**ï¼šè‡ªåŠ¨ç®¡ç†å·¥ä½œæµçŠ¶æ€ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ å’Œè¿›åº¦æŸ¥çœ‹
- **æ¨¡æ¿åŒ–**ï¼šé¢„ç½®æ ‡å‡†çš„Gherkinæ¨¡æ¿å’Œå·¥ä½œæµæ¨¡æ¿ï¼Œæé«˜æ•ˆç‡
- **æ™ºèƒ½å¤ç”¨**ï¼šè‡ªåŠ¨æ‰«æå’Œå¤ç”¨å·²æœ‰stepå®šä¹‰ï¼Œé¿å…é‡å¤å·¥ä½œ

## ğŸ“ é¡¹ç›®ç»“æ„

```
BDD Workflow/
â”œâ”€â”€ commands/
â”‚   â””â”€â”€ bdd.md                 # BDDå·¥ä½œæµå‘½ä»¤æ–‡æ¡£
â”œâ”€â”€ workflows/
â”‚   â””â”€â”€ templates/             # å·¥ä½œæµæ¨¡æ¿ç›®å½•
â”‚       â”œâ”€â”€ requirements-template.md    # éœ€æ±‚åˆ†æå¸ˆæ¨¡æ¿
â”‚       â”œâ”€â”€ steps-template.md          # æµ‹è¯•å·¥ç¨‹å¸ˆæ¨¡æ¿
â”‚       â”œâ”€â”€ implement-template.md      # å¼€å‘å·¥ç¨‹å¸ˆæ¨¡æ¿
â”‚       â”œâ”€â”€ refactor-template.md       # é‡æ„ä¸“å®¶æ¨¡æ¿
â”‚       â””â”€â”€ step-optimize-template.md  # Stepä¼˜åŒ–æ¨¡æ¿
â”œâ”€â”€ install-claude-bdd         # Claude Codeå‘½ä»¤å®‰è£…è„šæœ¬
â””â”€â”€ README.md                  # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…åˆ°Claude Code

```bash
# å…‹éš†æˆ–ä¸‹è½½æœ¬é¡¹ç›®
git clone <repository-url>

# å®‰è£…åˆ°ç›®æ ‡é¡¹ç›®
./install-claude-bdd /path/to/your/project

# æˆ–åœ¨ç›®æ ‡é¡¹ç›®ç›®å½•ä¸­æ‰§è¡Œ
./install-claude-bdd
```

### 2. åŸºæœ¬ä½¿ç”¨æµç¨‹

```bash
# 1. å¼€å§‹éœ€æ±‚åˆ†æ
/bdd requirements user-authentication

# 2. å®šä¹‰æµ‹è¯•æ­¥éª¤
/bdd steps features/user-authentication.feature

# 3. å®ç°åŠŸèƒ½
/bdd implement user-authentication.feature

# 4. ä»£ç é‡æ„
/bdd refactor --scope user-authentication

# 5. ä¼˜åŒ–æ­¥éª¤å®šä¹‰
/bdd step-optimize --merge

# 6. æŸ¥çœ‹çŠ¶æ€
/bdd status
```

## ğŸ“‹ å·¥ä½œæµæ¨¡å¼

### ğŸ” éœ€æ±‚åˆ†ææ¨¡å¼ (`/bdd requirements`)
- **è§’è‰²**ï¼šéœ€æ±‚åˆ†æå¸ˆ
- **ä¸“æ³¨**ï¼šä¸šåŠ¡éœ€æ±‚ç†è§£ã€Gherkinè„šæœ¬åˆ›å»º
- **è¾“å‡º**ï¼šFeatureæ–‡ä»¶å’Œéœ€æ±‚æ–‡æ¡£

### ğŸ§ª Stepå®šä¹‰æ¨¡å¼ (`/bdd steps`)
- **è§’è‰²**ï¼šæµ‹è¯•å·¥ç¨‹å¸ˆ
- **ä¸“æ³¨**ï¼šæµ‹è¯•æ­¥éª¤å®ç°ã€é¡µé¢å¯¹è±¡åˆ›å»º
- **è¾“å‡º**ï¼šStepå®šä¹‰æ–‡ä»¶å’Œè¾…åŠ©å‡½æ•°

### âš™ï¸ åŠŸèƒ½å®ç°æ¨¡å¼ (`/bdd implement`)
- **è§’è‰²**ï¼šå¼€å‘å·¥ç¨‹å¸ˆ
- **ä¸“æ³¨**ï¼šä¸šåŠ¡é€»è¾‘å®ç°ï¼Œæµ‹è¯•é©±åŠ¨å¼€å‘
- **è¾“å‡º**ï¼šåŠŸèƒ½ä»£ç å’Œé€šè¿‡çš„æµ‹è¯•

### ğŸ”§ ä»£ç é‡æ„æ¨¡å¼ (`/bdd refactor`)
- **è§’è‰²**ï¼šé‡æ„ä¸“å®¶
- **ä¸“æ³¨**ï¼šä»£ç ä¼˜åŒ–ã€ç»“æ„æ”¹å–„
- **è¾“å‡º**ï¼šé‡æ„åçš„ä»£ç å’ŒæŠ¥å‘Š

### ğŸ“Š Stepä¼˜åŒ–æ¨¡å¼ (`/bdd step-optimize`)
- **è§’è‰²**ï¼šæµ‹è¯•ä¼˜åŒ–ä¸“å®¶
- **ä¸“æ³¨**ï¼šStepå®šä¹‰åˆå¹¶ã€é€šç”¨åŒ–
- **è¾“å‡º**ï¼šä¼˜åŒ–çš„Stepå®šä¹‰å’ŒæŠ¥å‘Š

## ğŸ­ è§’è‰²åˆ‡æ¢æœºåˆ¶

æ¯ä¸ªæ¨¡å¼éƒ½æœ‰æ˜ç¡®çš„èŒè´£è¾¹ç•Œï¼š

| æ¨¡å¼ | å¯ä¿®æ”¹ | ä¸å¯ä¿®æ”¹ | ä¸»è¦å…³æ³¨ç‚¹ |
|------|--------|----------|-----------|
| requirements | Featureæ–‡ä»¶(åˆ›å»º) | ç°æœ‰ä»£ç  | ä¸šåŠ¡é€»è¾‘ |
| steps | Stepå®šä¹‰æ–‡ä»¶ | Featureéœ€æ±‚éƒ¨åˆ† | æµ‹è¯•å®ç° |
| implement | ä¸šåŠ¡ä»£ç  | Featureæ–‡ä»¶ | åŠŸèƒ½å®ç° |
| refactor | ä»£ç ç»“æ„ | ä¸šåŠ¡é€»è¾‘ | ä»£ç è´¨é‡ |
| step-optimize | Stepå®šä¹‰ç»„ç»‡ | Stepè¡Œä¸º | æµ‹è¯•ç»´æŠ¤æ€§ |

## ğŸ“ ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„

ç³»ç»Ÿè¿è¡Œåä¼šåœ¨ç›®æ ‡é¡¹ç›®ä¸­ç”Ÿæˆä»¥ä¸‹ç»“æ„ï¼š

```
your-project/
â”œâ”€â”€ features/                  # Featureæ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ *.feature
â”œâ”€â”€ step_definitions/          # Stepå®šä¹‰ç›®å½•
â”‚   â””â”€â”€ *_steps.js
â”œâ”€â”€ support/                   # æ”¯æŒæ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ pages/                # é¡µé¢å¯¹è±¡
â”‚   â””â”€â”€ helpers/              # è¾…åŠ©å‡½æ•°
â””â”€â”€ .bdd-workflow/            # å·¥ä½œæµçŠ¶æ€ç›®å½•
    â”œâ”€â”€ state/
    â”‚   â””â”€â”€ current.json      # å½“å‰çŠ¶æ€æ–‡ä»¶
    â””â”€â”€ reports/              # æŠ¥å‘Šç›®å½•
        â”œâ”€â”€ refactor-*.md
        â””â”€â”€ step-optimization-*.md
```

## ğŸ“Š çŠ¶æ€ç®¡ç†

ç³»ç»Ÿä½¿ç”¨JSONæ–‡ä»¶è¿½è¸ªå·¥ä½œæµçŠ¶æ€ï¼š

```json
{
  "mode": "requirements|steps|implement",
  "started_at": "2025-01-20T15:30:00Z",
  "current_feature": "user-auth.feature",
  "features": {
    "user-auth.feature": {
      "status": "completed",
      "created": "2025-01-20T14:00:00Z",
      "test_results": {
        "passed": 10,
        "failed": 0,
        "pending": 0
      }
    }
  }
}
```

## ğŸ› ï¸ é«˜çº§åŠŸèƒ½

### æ‰¹é‡å¤„ç†
```bash
# å®ç°æ‰€æœ‰å¾…å¤„ç†çš„features
/bdd implement --all

# é‡è¯•å¤±è´¥çš„features
/bdd implement --retry
```

### çŠ¶æ€æŸ¥çœ‹å’Œç®¡ç†
```bash
# æŸ¥çœ‹å½“å‰çŠ¶æ€
/bdd status

# é‡ç½®å·¥ä½œæµçŠ¶æ€
/bdd reset

# ç¡¬é‡ç½®ï¼ˆæ¸…é™¤æ‰€æœ‰çŠ¶æ€ï¼‰
/bdd reset --hard
```

### ä¸­æ–­æ¢å¤
```bash
# ç»§ç»­ä¸Šæ¬¡çš„å·¥ä½œ
/bdd continue

# æ¢å¤åˆ°ç‰¹å®šæ¨¡å¼
/bdd steps --resume
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **é¡ºåºæ‰§è¡Œ**ï¼šæŒ‰ requirements â†’ steps â†’ implement â†’ refactor â†’ step-optimize é¡ºåºè¿›è¡Œ
2. **å®šæœŸä¼˜åŒ–**ï¼šæ¯å®Œæˆ3-5ä¸ªfeaturesåæ‰§è¡Œé‡æ„å’Œstepä¼˜åŒ–
3. **æ‰¹é‡å¤„ç†**ï¼šç§¯ç´¯å¤šä¸ªfeaturesåç»Ÿä¸€å®ç°ï¼Œæé«˜æ•ˆç‡
4. **çŠ¶æ€æ£€æŸ¥**ï¼šåˆ‡æ¢æ¨¡å¼å‰å…ˆæ£€æŸ¥å½“å‰çŠ¶æ€
5. **æµ‹è¯•ä¿è¯**ï¼šé‡æ„åç¡®ä¿æ‰€æœ‰æµ‹è¯•ä»ç„¶é€šè¿‡

## ğŸ“ˆ ä¸å…¶ä»–å·¥å…·é›†æˆ

- **Gité›†æˆ**ï¼šæ¯ä¸ªé˜¶æ®µå®Œæˆå¯è‡ªåŠ¨æäº¤
- **CI/CD**ï¼šç”Ÿæˆçš„æµ‹è¯•ç›´æ¥ç”¨äºæŒç»­é›†æˆ
- **é¡¹ç›®ç®¡ç†**ï¼šçŠ¶æ€å¯å¯¼å‡ºä¸ºè¿›åº¦æŠ¥å‘Š

## ğŸ”§ æŠ€æœ¯è¦æ±‚

- Node.js (ç”¨äºJavaScript/TypeScripté¡¹ç›®)
- Cucumber.js æˆ–å…¶ä»–BDDæµ‹è¯•æ¡†æ¶
- Git (ç”¨äºç‰ˆæœ¬æ§åˆ¶)
- Claude Code (ç”¨äºè¿è¡Œå·¥ä½œæµå‘½ä»¤)

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªå·¥ä½œæµç³»ç»Ÿã€‚

---

*é€šè¿‡BDD Workflowï¼Œè®©è¡Œä¸ºé©±åŠ¨å¼€å‘å˜å¾—æ›´åŠ ç³»ç»ŸåŒ–å’Œé«˜æ•ˆï¼*